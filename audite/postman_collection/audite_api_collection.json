{
  "info": {
    "name": "Audite API Collection",
    "description": "Colección de endpoints para la API de Audite v2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Root",
      "item": [
        {
          "name": "Información API",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Endpoint raíz que proporciona información sobre los endpoints disponibles en la API."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Autenticación",
      "item": [
        {
          "name": "Login - Obtener Token",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auth/token",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "token"
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "username",
                  "value": "usuario@ejemplo.com",
                  "type": "text"
                },
                {
                  "key": "password",
                  "value": "contraseña",
                  "type": "text"
                }
              ]
            },
            "description": "Obtiene un token de acceso JWT."
          },
          "response": []
        },
        {
          "name": "Registro de Usuario",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"usuario@ejemplo.com\",\n    \"password\": \"contraseña\",\n    \"full_name\": \"Nombre Completo\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Registra un nuevo usuario en el sistema."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auditoría Básica",
      "item": [
        {
          "name": "Crear Auditoría Básica",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auditoria-basica/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-basica",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre_empresa\": \"Empresa Ejemplo\",\n    \"sector\": \"Industrial\",\n    \"tamano_instalacion\": 1000,\n    \"num_empleados\": 50,\n    \"consumo_anual\": 150000,\n    \"factura_mensual\": 5000,\n    \"datos_equipos\": {\n        \"iluminacion_potencia\": 15000,\n        \"climatizacion_potencia\": 30000\n    }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Crea una nueva auditoría energética básica."
          },
          "response": []
        },
        {
          "name": "Listar Auditorías Básicas",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auditoria-basica/?skip=0&limit=100",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-basica",
                ""
              ],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            },
            "description": "Obtiene la lista de auditorías energéticas básicas."
          },
          "response": []
        },
        {
          "name": "Obtener Auditoría Básica",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auditoria-basica/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-basica",
                "1"
              ]
            },
            "description": "Obtiene los detalles de una auditoría energética básica específica."
          },
          "response": []
        },
        {
          "name": "Actualizar Auditoría Básica",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "url": {
              "raw": "{{base_url}}/auditoria-basica/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-basica",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre_empresa\": \"Empresa Actualizada\",\n    \"sector\": \"Industrial\",\n    \"tamano_instalacion\": 1200,\n    \"num_empleados\": 55,\n    \"consumo_anual\": 160000,\n    \"factura_mensual\": 5500,\n    \"datos_equipos\": {\n        \"iluminacion_potencia\": 16000,\n        \"climatizacion_potencia\": 32000\n    }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Actualiza una auditoría energética básica existente."
          },
          "response": []
        },
        {
          "name": "Eliminar Auditoría Básica",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/auditoria-basica/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-basica",
                "1"
              ]
            },
            "description": "Elimina una auditoría energética básica."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auditoría Agro",
      "item": [
        {
          "name": "Crear Auditoría Agro",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auditoria-agro/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-agro",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre_proyecto\": \"Finca Agrícola Ejemplo\",\n    \"tipo_produccion\": \"Frutas\",\n    \"superficie_hectareas\": 50,\n    \"produccion_anual\": 500000,\n    \"datos_consumo\": {\n        \"electricidad\": 80000,\n        \"combustible\": 60000,\n        \"agua\": 120000\n    },\n    \"sistemas_riego\": {\n        \"tipo\": \"aspersion\",\n        \"consumo_agua\": 100000,\n        \"eficiencia\": 0.75\n    },\n    \"equipos\": [\n        {\n            \"tipo\": \"bomba\",\n            \"potencia\": 15000,\n            \"horas_uso\": 2000\n        },\n        {\n            \"tipo\": \"tractor\",\n            \"consumo_combustible\": 5000,\n            \"horas_uso\": 800\n        }\n    ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Crea una nueva auditoría energética para el sector agrícola."
          },
          "response": []
        },
        {
          "name": "Listar Auditorías Agro",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auditoria-agro/?skip=0&limit=100",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-agro",
                ""
              ],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            },
            "description": "Obtiene la lista de auditorías energéticas agrícolas del usuario."
          },
          "response": []
        },
        {
          "name": "Obtener Auditoría Agro",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auditoria-agro/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-agro",
                "1"
              ]
            },
            "description": "Obtiene los detalles de una auditoría energética agrícola específica."
          },
          "response": []
        },
        {
          "name": "Actualizar Auditoría Agro",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "url": {
              "raw": "{{base_url}}/auditoria-agro/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-agro",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre_proyecto\": \"Finca Agrícola Actualizada\",\n    \"tipo_produccion\": \"Frutas\",\n    \"superficie_hectareas\": 55,\n    \"produccion_anual\": 550000,\n    \"datos_consumo\": {\n        \"electricidad\": 85000,\n        \"combustible\": 65000,\n        \"agua\": 125000\n    },\n    \"sistemas_riego\": {\n        \"tipo\": \"goteo\",\n        \"consumo_agua\": 80000,\n        \"eficiencia\": 0.9\n    },\n    \"equipos\": [\n        {\n            \"tipo\": \"bomba\",\n            \"potencia\": 16000,\n            \"horas_uso\": 2100\n        },\n        {\n            \"tipo\": \"tractor\",\n            \"consumo_combustible\": 5200,\n            \"horas_uso\": 850\n        }\n    ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Actualiza una auditoría energética agrícola existente."
          },
          "response": []
        },
        {
          "name": "Eliminar Auditoría Agro",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/auditoria-agro/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auditoria-agro",
                "1"
              ]
            },
            "description": "Elimina una auditoría energética agrícola."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Datos Agrícolas",
      "item": [
        {
          "name": "Cargar Datos por Defecto",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/agro-data/load-default-data",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "load-default-data"
              ]
            },
            "description": "Carga los datos por defecto desde los scripts SQL."
          },
          "response": []
        },
        {
          "name": "Obtener Tipos de Industria",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/industry-types",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "industry-types"
              ]
            },
            "description": "Obtiene la lista de tipos de industria agrícola."
          },
          "response": []
        },
        {
          "name": "Obtener Tipos de Industria por Subsector",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/industry-types/frutas",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "industry-types",
                "frutas"
              ]
            },
            "description": "Obtiene los tipos de industria agro filtrados por subsector."
          },
          "response": []
        },
        {
          "name": "Obtener Equipos",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/equipment",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "equipment"
              ]
            },
            "description": "Obtiene la lista de equipos agrícolas."
          },
          "response": []
        },
        {
          "name": "Obtener Equipos por Sector",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/equipment/riego",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "equipment",
                "riego"
              ]
            },
            "description": "Obtiene los equipos agro filtrados por sector."
          },
          "response": []
        },
        {
          "name": "Obtener Procesos",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/processes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "processes"
              ]
            },
            "description": "Obtiene la lista de procesos agrícolas."
          },
          "response": []
        },
        {
          "name": "Obtener Procesos por Etapa",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/processes/cultivo",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "processes",
                "cultivo"
              ]
            },
            "description": "Obtiene los procesos agro filtrados por etapa."
          },
          "response": []
        },
        {
          "name": "Obtener Categorías de Equipos",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/equipment-categories",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "equipment-categories"
              ]
            },
            "description": "Obtiene la lista de categorías de equipos."
          },
          "response": []
        },
        {
          "name": "Obtener Categorías de Equipos por Categoría",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/agro-data/equipment-categories/riego",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "agro-data",
                "equipment-categories",
                "riego"
              ]
            },
            "description": "Obtiene las categorías de equipos agro filtradas por categoría."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Listar Benchmarks",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/benchmarks/?skip=0&limit=100",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "benchmarks",
                ""
              ],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            },
            "description": "Obtiene la lista de benchmarks."
          },
          "response": []
        },
        {
          "name": "Obtener Parámetros",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/parametros/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "parametros",
                ""
              ]
            },
            "description": "Obtiene la lista de parámetros del sistema."
          },
          "response": []
        },
        {
          "name": "Exportar Auditorías",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/exportar/auditorias",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "exportar",
                "auditorias"
              ]
            },
            "description": "Exporta todas las auditorías en formato JSON."
          },
          "response": []
        },
        {
          "name": "Exportar Estadísticas",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/exportar/estadisticas",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "exportar",
                "estadisticas"
              ]
            },
            "description": "Exporta estadísticas generales del sistema."
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "token",
      "value": "tu_token_de_acceso",
      "type": "string"
    }
  ]
} 